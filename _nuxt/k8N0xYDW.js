import{f as w,k as S,c as l,o as m,F as h,r as E,u as _,n as T,_ as P,z as y,g as R,v as j,a as v,t as D,b,I as N,Q as u,d as L}from"./DNJk_HMd.js";import{u as M}from"./BKhmTJ0v.js";import{_ as O}from"./815NAPXE.js";const x={class:"marquee"},A=["src","alt"],F=["src","alt"],B=["src","alt"],H=w({__name:"TimerSponsors",setup(d){const e=M(),i=S(()=>[...e.sponsors].reverse());return(a,f)=>(m(),l("span",x,[(m(!0),l(h,null,E(_(i),t=>(m(),l("img",{key:t.id,src:`/img/sponsors/${t.image}`,alt:t.name,class:T(["logo",`sponsor-${t.type}`])},null,10,A))),128)),(m(!0),l(h,null,E(_(i),t=>(m(),l("img",{key:t.id,src:`/img/sponsors/${t.image}`,alt:t.name,class:T(["logo",`sponsor-${t.type}`])},null,10,F))),128)),(m(!0),l(h,null,E(_(i),t=>(m(),l("img",{key:t.id,src:`/img/sponsors/${t.image}`,alt:t.name,class:T(["logo",`sponsor-${t.type}`])},null,10,B))),128))]))}}),q=P(H,[["__scopeId","data-v-805d593f"]]),C={class:"container--sponsors"},z=w({__name:"TimerTalk",props:{room:{},talk:{}},setup(d){const e=d,i=y({asString:"00 : 00",remainingInSeconds:0}),a=y(null),f=y(!1);function t(s){const o=new Date;o.setHours(Number(s.split(":")[0]),Number(s.split(":")[1]),0);const n=new Date,r=(o.getTime()-n.getTime())/1e3;return{asString:`${String(Math.floor(r/60)).padStart(2,"0")} : ${String(Math.floor(r-Math.floor(r/60)*60)).padStart(2,"0")}`,remainingInSeconds:r}}function k(s,o){const n=new Date;n.setHours(Number(s.split(":")[0]),Number(s.split(":")[1]),0);const r=new Date;r.setHours(Number(o.split(":")[0]),Number(o.split(":")[1]),0);const p=(n.getTime()-r.getTime())/1e3;return{asString:`${String(Math.floor(p/60)).padStart(2,"0")} : ${String(Math.floor(p-Math.floor(p/60)*60)).padStart(2,"0")}`,remainingInSeconds:p}}return R(()=>{if(!e.talk)return;const s=new Date,o=s.getMinutes(),n=s.getHours(),r=(e.talk.endTime||"00:00").split(":"),p=Date.parse(`01/01/2001 ${r[0]}:${r[1]}:00`),$=Date.parse(`01/01/2001 ${n}:${o}:00`),g=k(e.talk.endTime||"00:00",e.talk.time);e.talk.endTime&&p>$&&(a.value=window.setInterval(()=>{if(!e.talk)return;const c=t(e.talk.endTime);if(c.remainingInSeconds<g.remainingInSeconds/10&&(f.value=!0),c.remainingInSeconds<0){const I=document.getElementById(e.talk.nextTalkId);I&&window.scroll({top:I.offsetTop}),a.value&&clearInterval(a.value)}i.value=c},500))}),j(()=>{a.value&&clearInterval(a.value)}),(s,o)=>{const n=q;return m(),l("div",{class:T(["timerTalk",`timerTalk-${d.room}`])},[v("h1",null,D(d.talk?.talk?.name),1),v("h2",{class:T(["chrono",{blink:_(f)}])},D(_(i).asString),3),v("div",C,[b(n,{class:"sponsors"})]),v("h3",null,"Prochain sujet : "+D(d.talk.nextTalkName),1)],2)}}}),U=P(z,[["__scopeId","data-v-6832e3ed"]]),Q=(d,e,i)=>{const a=d[e];return a?typeof a=="function"?a():Promise.resolve(a):new Promise((f,t)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==i?". Note that variables only represent file names one level deep.":""))))})},W={class:"container--white fullWidth"},G=["id"],J=w({__name:"[room]",setup(d){const e=N(),i=S(()=>e.params.someDay),a=S(()=>e.params.room),f=y([]),t=y(null);return R(async()=>{try{const s=(await Q(Object.assign({"../../../assets/timer/day1/Bio.json":()=>u(()=>import("./Dfje5dhZ.js"),[],import.meta.url),"../../../assets/timer/day1/F21.json":()=>u(()=>import("./CE01y60k.js"),[],import.meta.url),"../../../assets/timer/day1/F22.json":()=>u(()=>import("./2HL65Qom.js"),[],import.meta.url),"../../../assets/timer/day1/F23.json":()=>u(()=>import("./BhKOwNXX.js"),[],import.meta.url),"../../../assets/timer/day1/Physique.json":()=>u(()=>import("./DPJdnA8l.js"),[],import.meta.url),"../../../assets/timer/day2/Bio.json":()=>u(()=>import("./DOkHdGDf.js"),[],import.meta.url),"../../../assets/timer/day2/F21.json":()=>u(()=>import("./Cr-6oIjy.js"),[],import.meta.url),"../../../assets/timer/day2/F22.json":()=>u(()=>import("./BD0vTPDb.js"),[],import.meta.url),"../../../assets/timer/day2/F23.json":()=>u(()=>import("./D4RiJ_6d.js"),[],import.meta.url),"../../../assets/timer/day2/Physique.json":()=>u(()=>import("./CUrq38I0.js"),[],import.meta.url)}),`../../../assets/timer/day${i.value}/${a.value}.json`,7)).default,o=s.map((g,c)=>({...g,endTime:s[c+1]?.time,nextTalkId:s[c+1]?.talk?.id,nextTalkName:s[c+1]?.talk?.name})),n=new Date,r=n.getMinutes(),p=n.getHours(),$=o.filter(({endTime:g="00:00"})=>{const c=g.split(":"),I=Date.parse(`01/01/2001 ${c[0]}:${c[1]}:00`),V=Date.parse(`01/01/2001 ${p}:${r}:00`);return I>V})[0];t.value=$,f.value=o,setTimeout(()=>{if(t.value?.talk?.id){const g=document.getElementById(t.value.talk.id);g&&window.scroll({top:g.offsetTop})}},2e3)}catch(k){console.error("Error loading timer data:",k)}}),(k,s)=>{const o=U;return m(),l("div",W,[L(" Room page "+D(_(a))+" for day "+D(_(i))+" ",1),s[0]||(s[0]=v("img",{class:"logoContainer",src:O,alt:"logo TNT"},null,-1)),(m(!0),l(h,null,E(_(f),n=>(m(),l("div",{id:n?.talk?.id,key:n?.talk?.id,class:"talk--bloc"},[b(o,{talk:n,room:_(a)},null,8,["talk","room"])],8,G))),128))])}}}),Z=P(J,[["__scopeId","data-v-c6937c80"]]);export{Z as default};
