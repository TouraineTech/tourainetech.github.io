import{f as w,u as j,k as S,c as l,o as m,F as h,v as E,l as _,q as T,_ as P,x as y,g as R,R as N,a as v,t as D,b,I as x,S as u,d as L}from"./OWNJHB_k.js";import{_ as M}from"./B-0WlbfO.js";const O={class:"marquee"},A=["src","alt"],F=["src","alt"],B=["src","alt"],q=w({__name:"TimerSponsors",setup(d){const e=j(),i=S(()=>[...e.sponsors].reverse());return(a,f)=>(m(),l("span",O,[(m(!0),l(h,null,E(_(i),t=>(m(),l("img",{key:t.id,src:`/img/sponsors/${t.image}`,alt:t.name,class:T(["logo",`sponsor-${t.type}`])},null,10,A))),128)),(m(!0),l(h,null,E(_(i),t=>(m(),l("img",{key:t.id,src:`/img/sponsors/${t.image}`,alt:t.name,class:T(["logo",`sponsor-${t.type}`])},null,10,F))),128)),(m(!0),l(h,null,E(_(i),t=>(m(),l("img",{key:t.id,src:`/img/sponsors/${t.image}`,alt:t.name,class:T(["logo",`sponsor-${t.type}`])},null,10,B))),128))]))}}),H=P(q,[["__scopeId","data-v-805d593f"]]),C={class:"container--sponsors"},U=w({__name:"TimerTalk",props:{room:{},talk:{}},setup(d){const e=d,i=y({asString:"00 : 00",remainingInSeconds:0}),a=y(null),f=y(!1);function t(s){const o=new Date;o.setHours(Number(s.split(":")[0]),Number(s.split(":")[1]),0);const n=new Date,r=(o.getTime()-n.getTime())/1e3;return{asString:`${String(Math.floor(r/60)).padStart(2,"0")} : ${String(Math.floor(r-Math.floor(r/60)*60)).padStart(2,"0")}`,remainingInSeconds:r}}function k(s,o){const n=new Date;n.setHours(Number(s.split(":")[0]),Number(s.split(":")[1]),0);const r=new Date;r.setHours(Number(o.split(":")[0]),Number(o.split(":")[1]),0);const p=(n.getTime()-r.getTime())/1e3;return{asString:`${String(Math.floor(p/60)).padStart(2,"0")} : ${String(Math.floor(p-Math.floor(p/60)*60)).padStart(2,"0")}`,remainingInSeconds:p}}return R(()=>{if(!e.talk)return;const s=new Date,o=s.getMinutes(),n=s.getHours(),r=(e.talk.endTime||"00:00").split(":"),p=Date.parse(`01/01/2001 ${r[0]}:${r[1]}:00`),$=Date.parse(`01/01/2001 ${n}:${o}:00`),g=k(e.talk.endTime||"00:00",e.talk.time);e.talk.endTime&&p>$&&(a.value=window.setInterval(()=>{if(!e.talk)return;const c=t(e.talk.endTime);if(c.remainingInSeconds<g.remainingInSeconds/10&&(f.value=!0),c.remainingInSeconds<0){const I=document.getElementById(e.talk.nextTalkId);I&&window.scroll({top:I.offsetTop}),a.value&&clearInterval(a.value)}i.value=c},500))}),N(()=>{a.value&&clearInterval(a.value)}),(s,o)=>{const n=H;return m(),l("div",{class:T(["timerTalk",`timerTalk-${d.room}`])},[v("h1",null,D(d.talk?.talk?.name),1),v("h2",{class:T(["chrono",{blink:_(f)}])},D(_(i).asString),3),v("div",C,[b(n,{class:"sponsors"})]),v("h3",null,"Prochain sujet : "+D(d.talk.nextTalkName),1)],2)}}}),z=P(U,[["__scopeId","data-v-6832e3ed"]]),W=(d,e,i)=>{const a=d[e];return a?typeof a=="function"?a():Promise.resolve(a):new Promise((f,t)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==i?". Note that variables only represent file names one level deep.":""))))})},G={class:"container--white fullWidth"},J=["id"],K=w({__name:"[room]",setup(d){const e=x(),i=S(()=>e.params.someDay),a=S(()=>e.params.room),f=y([]),t=y(null);return R(async()=>{try{const s=(await W(Object.assign({"../../../assets/timer/day1/Bio.json":()=>u(()=>import("./D_Bv-AlZ.js"),[],import.meta.url),"../../../assets/timer/day1/F21.json":()=>u(()=>import("./wEPzBPMN.js"),[],import.meta.url),"../../../assets/timer/day1/F22.json":()=>u(()=>import("./AmGbiYMv.js"),[],import.meta.url),"../../../assets/timer/day1/F23.json":()=>u(()=>import("./BDFbF7yP.js"),[],import.meta.url),"../../../assets/timer/day1/Physique.json":()=>u(()=>import("./DYwqeuqd.js"),[],import.meta.url),"../../../assets/timer/day2/Bio.json":()=>u(()=>import("./s-4XbGzi.js"),[],import.meta.url),"../../../assets/timer/day2/F21.json":()=>u(()=>import("./BPct_2Zv.js"),[],import.meta.url),"../../../assets/timer/day2/F22.json":()=>u(()=>import("./0CLz4cQO.js"),[],import.meta.url),"../../../assets/timer/day2/F23.json":()=>u(()=>import("./BoItiq34.js"),[],import.meta.url),"../../../assets/timer/day2/Physique.json":()=>u(()=>import("./B96TGjti.js"),[],import.meta.url)}),`../../../assets/timer/day${i.value}/${a.value}.json`,7)).default,o=s.map((g,c)=>({...g,endTime:s[c+1]?.time,nextTalkId:s[c+1]?.talk?.id,nextTalkName:s[c+1]?.talk?.name})),n=new Date,r=n.getMinutes(),p=n.getHours(),$=o.filter(({endTime:g="00:00"})=>{const c=g.split(":"),I=Date.parse(`01/01/2001 ${c[0]}:${c[1]}:00`),V=Date.parse(`01/01/2001 ${p}:${r}:00`);return I>V})[0];t.value=$,f.value=o,setTimeout(()=>{if(t.value?.talk?.id){const g=document.getElementById(t.value.talk.id);g&&window.scroll({top:g.offsetTop})}},2e3)}catch(k){console.error("Error loading timer data:",k)}}),(k,s)=>{const o=z;return m(),l("div",G,[L(" Room page "+D(_(a))+" for day "+D(_(i))+" ",1),s[0]||(s[0]=v("img",{class:"logoContainer",src:M,alt:"logo TNT"},null,-1)),(m(!0),l(h,null,E(_(f),n=>(m(),l("div",{id:n?.talk?.id,key:n?.talk?.id,class:"talk--bloc"},[b(o,{talk:n,room:_(a)},null,8,["talk","room"])],8,J))),128))])}}}),Y=P(K,[["__scopeId","data-v-c6937c80"]]);export{Y as default};
