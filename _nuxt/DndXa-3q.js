import{q as b,f as P,v as T,k as D,g as V,y as A,c as r,o as i,a as s,t as w,n as L,u as p,F as y,r as E,m as O,d as x,_ as N,I as M,Q as l,b as F}from"./R-LZ4XQA.js";import{u as B}from"./D1RceVv_.js";import{_ as H}from"./BheWnx7M.js";const z=b("/img/sponsors/logo-polytech.png"),U=b("/img/sponsors/logo-UFR.png"),q={class:"waiting-screen--container"},C={class:"waiting-screen--title"},W={class:"talk--sponsors--container"},Q={class:"talk--sponsors"},G={class:"talk--sponsors--gold"},J=["src","alt"],K={class:"talk--sponsors--silver"},X=["src","alt"],Y={class:"talk--sponsors--bronze"},Z=["src","alt"],tt={class:"waiting-screen--next-talk"},et={key:0},st=P({__name:"WaitingScreenTalk",props:{room:{},talk:{}},setup(k){const a=k,I=T({asString:"00 : 00",remainingInSeconds:0}),c=T(null),v=T(!1),_=B(),f=D(()=>[..._.sponsors].filter(({type:n})=>n==="gold")),m=D(()=>[..._.sponsors].filter(({type:n})=>n==="silver")),g=D(()=>[..._.sponsors].filter(({type:n})=>n==="bronze"));function u(n){const e=new Date;e.setHours(Number(n.split(":")[0]),Number(n.split(":")[1]),0);const t=new Date,o=(e.getTime()-t.getTime())/1e3;return{asString:`${String(Math.floor(o/60)).padStart(2,"0")} : ${String(Math.floor(o-Math.floor(o/60)*60)).padStart(2,"0")}`,remainingInSeconds:o}}function S(n,e){const t=new Date;t.setHours(Number(n.split(":")[0]),Number(n.split(":")[1]),0);const o=new Date;o.setHours(Number(e.split(":")[0]),Number(e.split(":")[1]),0);const d=(t.getTime()-o.getTime())/1e3;return{asString:`${String(Math.floor(d/60)).padStart(2,"0")} : ${String(Math.floor(d-Math.floor(d/60)*60)).padStart(2,"0")}`,remainingInSeconds:d}}return V(()=>{if(!a.talk)return;const n=new Date,e=n.getMinutes(),t=n.getHours(),o=(a.talk.endTime||"00:00").split(":"),d=Date.parse(`01/01/2001 ${o[0]}:${o[1]}:00`),h=Date.parse(`01/01/2001 ${t}:${e}:00`),j=S(a.talk.endTime||"00:00",a.talk.time);a.talk.endTime&&d>h&&(c.value=window.setInterval(()=>{if(!a.talk)return;const $=u(a.talk.endTime);if($.remainingInSeconds<j.remainingInSeconds/10&&(v.value=!0),$.remainingInSeconds<0){const R=document.getElementById(a.talk.nextTalkId);R&&window.scroll({top:R.offsetTop}),c.value&&clearInterval(c.value)}I.value=$},500))}),A(()=>{c.value&&clearInterval(c.value)}),(n,e)=>(i(),r("div",q,[s("div",C,[s("h2",null,w(k.talk?.talk?.name),1)]),s("span",{class:L(["chrono",{blink:p(v)}])},w(p(I).asString),3),s("div",W,[e[1]||(e[1]=s("span",null,"Merci Ã  nos sponsors",-1)),s("div",Q,[s("div",G,[(i(!0),r(y,null,E(p(f),t=>(i(),r("img",{key:t.id,src:`/img/sponsors/${t.image}`,alt:t.name},null,8,J))),128))]),s("div",K,[(i(!0),r(y,null,E(p(m),t=>(i(),r("img",{key:t.id,src:`/img/sponsors/${t.image}`,alt:t.name},null,8,X))),128))]),s("div",Y,[(i(!0),r(y,null,E(p(g),t=>(i(),r("img",{key:t.id,src:`/img/sponsors/${t.image}`,alt:t.name},null,8,Z))),128))]),e[0]||(e[0]=s("div",{class:"talk--sponsors--institutional"},[s("img",{src:z,alt:"Polytech"}),s("img",{src:U,alt:"UFR"})],-1))]),e[2]||(e[2]=s("div",{class:"illustration"},[s("img",{src:"/img/visualArt/illustration_2026.png",alt:"illustration"})],-1))]),s("div",tt,[k.talk.nextTalkName?(i(),r("span",et,[e[3]||(e[3]=s("b",null,"Prochain sujet :",-1)),x(" "+w(k.talk.nextTalkName),1)])):O("",!0)])]))}}),nt=N(st,[["__scopeId","data-v-3e3901ba"]]),ot=b("/img/logo_26_bordered.png"),at={class:"waiting-screen--container"},rt=["id"],it=P({__name:"[room]",setup(k){const a=M(),I=D(()=>a.params.someDay),c=D(()=>a.params.room),v=T([]),_=T(null);return V(async()=>{try{const m=(await H(Object.assign({"../../../assets/timer/day1/Bio.json":()=>l(()=>import("./CS322WH9.js"),[],import.meta.url),"../../../assets/timer/day1/F21.json":()=>l(()=>import("./CE01y60k.js"),[],import.meta.url),"../../../assets/timer/day1/F22.json":()=>l(()=>import("./2HL65Qom.js"),[],import.meta.url),"../../../assets/timer/day1/F23.json":()=>l(()=>import("./BhKOwNXX.js"),[],import.meta.url),"../../../assets/timer/day1/Physique.json":()=>l(()=>import("./DPJdnA8l.js"),[],import.meta.url),"../../../assets/timer/day2/Bio.json":()=>l(()=>import("./DOkHdGDf.js"),[],import.meta.url),"../../../assets/timer/day2/F21.json":()=>l(()=>import("./Cr-6oIjy.js"),[],import.meta.url),"../../../assets/timer/day2/F22.json":()=>l(()=>import("./BD0vTPDb.js"),[],import.meta.url),"../../../assets/timer/day2/F23.json":()=>l(()=>import("./D4RiJ_6d.js"),[],import.meta.url),"../../../assets/timer/day2/Physique.json":()=>l(()=>import("./CUrq38I0.js"),[],import.meta.url)}),`../../../assets/timer/day${I.value}/${c.value}.json`,7)).default,g=m.map((t,o)=>({...t,endTime:m[o+1]?.time,nextTalkId:m[o+1]?.talk?.id,nextTalkName:m[o+1]?.talk?.name})),u=new Date,S=u.getMinutes(),n=u.getHours(),e=g.filter(({endTime:t="00:00"})=>{const o=t.split(":"),d=Date.parse(`01/01/2001 ${o[0]}:${o[1]}:00`),h=Date.parse(`01/01/2001 ${n}:${S}:00`);return d>h})[0];_.value=e,v.value=g,setTimeout(()=>{if(_.value?.talk?.id){const t=document.getElementById(_.value.talk.id);t&&window.scroll({top:t.offsetTop})}},2e3)}catch(f){console.error("Error loading timer data:",f)}}),(f,m)=>{const g=nt;return i(),r(y,null,[m[0]||(m[0]=s("img",{src:ot,alt:"logo TNT",class:"waiting-screen--logo"},null,-1)),s("div",at,[(i(!0),r(y,null,E(p(v),u=>(i(),r("div",{id:u?.talk?.id,key:u?.talk?.id},[F(g,{talk:u,room:p(c)},null,8,["talk","room"])],8,rt))),128))])],64)}}}),ut=N(it,[["__scopeId","data-v-d39e82be"]]);export{ut as default};
